# BAç«æŠ€åœºæ’åç›‘æ§æ’ä»¶

è¿™æ˜¯ä¸€ä¸ªç”¨äºAstrBotçš„Blue Archive (BA) ç«æŠ€åœºæ’åç›‘æ§æ’ä»¶ã€‚å®ƒå¯ä»¥å®šæœŸæ£€æŸ¥ç©å®¶çš„ç«æŠ€åœºæ’åï¼Œå½“æ’åå‘ç”Ÿå˜åŒ–æ—¶è‡ªåŠ¨å‘é€é€šçŸ¥ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ”„ è‡ªåŠ¨æ¯5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ç«æŠ€åœºæ’å
- ğŸ“ˆ æ£€æµ‹æ’åå˜åŒ–å¹¶å‘é€é€šçŸ¥
- ğŸ’¾ æœ¬åœ°å­˜å‚¨å†å²æ’åæ•°æ®
- âš™ï¸ å¯é…ç½®çš„æœåŠ¡å™¨å’Œé€šçŸ¥è®¾ç½®
- ğŸ› ï¸ æä¾›æ‰‹åŠ¨æµ‹è¯•å’Œç®¡ç†æŒ‡ä»¤

## é…ç½®è¯´æ˜

åœ¨AstrBotçš„WebUIæ’ä»¶ç®¡ç†ä¸­é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

### å¿…å¡«é…ç½®
- `notice_id`: è¦æ¥æ”¶é€šçŸ¥çš„QQå·
- `friend_code`: æ¸¸æˆå¥½å‹ç 

### å¯é€‰é…ç½®  
- `server`: æœåŠ¡å™¨é€‰æ‹©ï¼Œå¯é€‰å€¼ï¼š`TW`, `NA`, `AS`, `KR`, `GL`ï¼ˆé»˜è®¤ï¼š`TW`ï¼‰

## ä½¿ç”¨æŒ‡ä»¤

| æŒ‡ä»¤ | è¯´æ˜ |
|------|------|
| `/ba_pvp_status` | æŸ¥çœ‹æ’ä»¶è¿è¡ŒçŠ¶æ€å’Œé…ç½®ä¿¡æ¯ |
| `/ba_pvp_test` | æ‰‹åŠ¨æµ‹è¯•è·å–å½“å‰æ’åæ•°æ® |
| `/ba_pvp_force_update` | å¼ºåˆ¶æ›´æ–°å½“å‰æ’åä¸ºåŸºå‡†å€¼ |

## å·¥ä½œåŸç†

1. **åˆå§‹åŒ–**: æ’ä»¶å¯åŠ¨æ—¶æ£€æŸ¥`notice_id`å’Œ`friend_code`æ˜¯å¦é…ç½®
2. **å®šæ—¶ç›‘æ§**: æ¯5åˆ†é’Ÿè°ƒç”¨BAç«æŠ€åœºAPIè·å–æœ€æ–°æ’å
3. **å˜åŒ–æ£€æµ‹**: æ¯”è¾ƒå½“å‰æ’åä¸ä¸Šæ¬¡è®°å½•çš„æ’å
4. **å‘é€é€šçŸ¥**: å¦‚æœæ’åå‘ç”Ÿå˜åŒ–ï¼Œå‘é…ç½®çš„QQå·å‘é€é€šçŸ¥æ¶ˆæ¯
5. **æ•°æ®æŒä¹…åŒ–**: å°†æœ€æ–°æ’åä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶

## é€šçŸ¥æ ¼å¼

å½“æ’åå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šæ”¶åˆ°å¦‚ä¸‹æ ¼å¼çš„é€šçŸ¥ï¼š

```
ğŸ“ˆ BAç«æŠ€åœºæ’åå˜åŒ–é€šçŸ¥
æœåŠ¡å™¨: TW
æ’åä¸Šå‡: 1500 â†’ 1450
å˜åŒ–: 50 ä½
```

## æ•°æ®å­˜å‚¨

æ’ä»¶ä¼šåœ¨`data/ba_pvp_data.json`æ–‡ä»¶ä¸­ä¿å­˜å†å²æ’åæ•°æ®ï¼ŒåŒ…æ‹¬ï¼š
- `last_arena_ranking`: ä¸Šæ¬¡è®°å½•çš„æ’å
- `last_update`: æœ€åæ›´æ–°æ—¶é—´

## æ³¨æ„äº‹é¡¹

- éœ€è¦ç©å®¶æ¸¸æˆåœ¨çº¿æ—¶APIæ‰ä¼šè¿”å›æœ€æ–°æ•°æ®
- å¦‚æœ`notice_id`æˆ–`friend_code`ä¸ºç©ºï¼Œæ’ä»¶ä¸ä¼šå¯åŠ¨ç›‘æ§åŠŸèƒ½
- ç½‘ç»œå¼‚å¸¸æ—¶æ’ä»¶ä¼šè‡ªåŠ¨é‡è¯•ï¼Œç­‰å¾…1åˆ†é’Ÿåç»§ç»­ç›‘æ§
- æ’ä»¶é‡è½½æˆ–åœæ­¢æ—¶ä¼šè‡ªåŠ¨å–æ¶ˆç›‘æ§ä»»åŠ¡

## ä¾èµ–

- `aiohttp>=3.8.0`: ç”¨äºå¼‚æ­¥HTTPè¯·æ±‚

## APIæ¥æº

æœ¬æ’ä»¶ä½¿ç”¨ [bacrawl.diyigemt.com](https://bacrawl.diyigemt.com) æä¾›çš„APIæœåŠ¡ã€‚

# æ”¯æŒ

[AstrBotå¸®åŠ©æ–‡æ¡£](https://astrbot.app)
